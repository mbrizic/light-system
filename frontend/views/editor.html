<h1>editor</h1>

<upload-form ng-if="!isEditMode" on-submit="uploadImage"> </upload-form>

<form ng-if="isEditMode" ng-submit="saveFloorplan()" ng-class="isLightPositionPhase ? 'col-xs-3' : 'col-xs-12'">
	<text-box model="floorplan.name" label="Name"> </text-box>

	<text-area model="floorplan.description" label="Description"> </text-area>

	<button class="btn btn-primary" ng-click="saveFloorplan()">
		<span ng-if="isLightPositionPhase">Save changes</span>
		<span ng-if="isLightPositionPhase">Create</span>
	</button>
</form>

<div ng-if="isEditMode && isLightPositionPhase">
	<p>click on floorplan to add lights</p>

	<floorplan-renderer
		floorplan="floorplan"
		light="light"
		on-floorplan-click="onFloorplanClick"
		on-popover-save="createLight"
		popover="popover">
	</floorplan-renderer>
</div>
